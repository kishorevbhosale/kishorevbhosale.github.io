<div class="container">
    <h2 style="text-align: center;">Right-Sizing and Identifying Service Boundaries</h2>
        <hr>
        <div class="content">
                <br>
                <h3 class="section-title">1. Why Right-Sizing Microservices is Important</h3>
                <ul>
                    <li>Avoids monolith services that are too large or complex.</li>
                    <li>Prevents over-segmentation into too many tiny microservices, causing communication overhead.</li>
                    <li>Ensures microservices are easy to manage, scale, and deploy independently.</li>
                </ul>

                <br>
                <h3 class="section-title">2. Domain-Driven Design (DDD) Sizing</h3>
                <p>
                    <strong>Domain-Driven Design (DDD)</strong> is a strategic approach that helps break down systems into meaningful bounded contexts based on business logic.
                </p>

                <h5>Steps for DDD-based Microservice Sizing</h5>
                <ul>
                    <li>
                        <span class="highlight">Identify Bounded Contexts:</span> Break down your application into business subdomains (e.g., for an e-commerce system: Order Management, Product Catalog, and Payment).
                    </li>
                    <li>
                        <span class="highlight">Define Aggregates:</span> Within each bounded context, identify core entities (e.g., for Order Management: Orders, Customers, Payments).
                    </li>
                    <li>
                        <span class="highlight">Encapsulate Business Logic:</span> Implement business logic and enforce invariants within the bounded context.
                    </li>
                    <li>
                        <span class="highlight">Use Ubiquitous Language:</span> Ensure that all teams (developers, product managers, etc.) use the same terminology to avoid miscommunication.
                    </li>
                </ul>

                <h5>Example of DDD in Microservice Sizing</h5>
                <div class="example">
                <p>
                    Consider an e-commerce system with several subdomains: <strong>Product Catalog</strong>, <strong>Order Management</strong>, and <strong>Customer Support</strong>. Each subdomain is a candidate for a microservice. For instance:
                </p>
                <ul>
                    <li><strong>Product Catalog Service:</strong> Handles products, categories, pricing, and availability.</li>
                    <li><strong>Order Management Service:</strong> Manages customer orders, payments, and shipping.</li>
                    <li><strong>Customer Support Service:</strong> Deals with customer queries and complaints.</li>
                </ul>
                </div>

                <h5>Pros of DDD-based Sizing</h5>
                <ul>
                    <li>Services align closely with business logic and domains.</li>
                    <li>Encapsulation of business logic makes services more cohesive.</li>
                    <li>Scales with large teams and complex systems, as different teams own different contexts.</li>
                </ul>

                <h5>Cons of DDD-based Sizing</h5>
                <ul>
                    <li>Requires a deep understanding of business domains, which may be time-consuming.</li>
                    <li>Not suitable for small or less complex systems where the boundaries are unclear.</li>
                    <li>Can lead to communication issues if the team doesn't properly define bounded contexts.</li>
                </ul>

                <h5>Challenges & Solutions</h5>
                <ul>
                    <li>
                        <strong>Challenge:</strong> Defining clear boundaries between contexts can be tricky.<br>
                        <strong>Solution:</strong> Use continuous feedback from business stakeholders and iterate on context boundaries.
                    </li>
                    <li>
                        <strong>Challenge:</strong> Over-compartmentalization of services can lead to complex integration.<br>
                        <strong>Solution:</strong> Keep bounded contexts reasonably sized and ensure proper communication between them.
                    </li>
                </ul>

                <br>
                <h3 class="section-title">3. Event Storming Sizing</h3>
                <p>
                    <strong>Event Storming</strong> is a collaborative workshop technique where business events drive the discovery of service boundaries. The goal is to understand how the system behaves based on domain events.
                </p>

                <h5>Steps for Event Storming-based Microservice Sizing</h5>
                <ul>
                    <li>
                        <span class="highlight">Gather Domain Events:</span> Identify key domain events (e.g., "Order Placed", "Payment Processed").
                    </li>
                    <li>
                        <span class="highlight">Collaborative Discovery:</span> Gather business stakeholders, developers, and domain experts to map out these events and dependencies.
                    </li>
                    <li>
                        <span class="highlight">Identify Aggregates:</span> Group related events together under an aggregate or domain object.
                    </li>
                    <li>
                        <span class="highlight">Define Service Boundaries:</span> Define service boundaries around aggregates that process similar events.
                    </li>
                </ul>

                <h5>Example of Event Storming Sizing</h5>
                <div class="example">
                <p>
                    For an e-commerce system, domain events might include:
                </p>
                <ul>
                    <li><strong>"Product Added to Cart"</strong></li>
                    <li><strong>"Order Placed"</strong></li>
                    <li><strong>"Payment Processed"</strong></li>
                </ul>
                <p>
                    Using Event Storming, you might group events such as "Order Placed" and "Payment Processed" together, forming the basis for an "Order Management" service. "Product Added to Cart" might belong to a "Shopping Cart" service.
                </p>
                </div>

                <h5>Pros of Event Storming Sizing</h5>
                <ul>
                    <li>Involves all stakeholders in the design process, ensuring alignment with business requirements.</li>
                    <li>Helps visualize complex systems in a simple, event-driven way.</li>
                    <li>Encourages discussion and exploration of system behaviors.</li>
                </ul>

                <h5>Cons of Event Storming Sizing</h5>
                <ul>
                    <li>Workshops may be time-consuming and require extensive collaboration.</li>
                    <li>May lead to over-segmentation if every event is turned into a service boundary.</li>
                    <li>Relies heavily on capturing the correct domain events, which can be difficult in large systems.</li>
                </ul>

                <h5>Challenges & Solutions</h5>
                <ul>
                    <li>
                        <strong>Challenge:</strong> Identifying all relevant events can be difficult, especially in complex domains.<br>
                        <strong>Solution:</strong> Start with high-level events and refine the details over multiple sessions.
                    </li>
                    <li>
                        <strong>Challenge:</strong> Over-segmenting services based on too many domain events.<br>
                        <strong>Solution:</strong> Focus on core domain events and group related ones into cohesive services.
                    </li>
                </ul>

                <br>
                <h3 class="section-title">4. Conclusion: Choosing Between DDD and Event Storming</h3>
                <ul>
                    <li>
                        <strong>Domain-Driven Design (DDD)</strong> works best when you have a good understanding of the business domains and want to model services around core business logic.
                    </li>
                    <li>
                        <strong>Event Storming</strong> is ideal when you want a more interactive, collaborative approach to defining service boundaries and understanding system behavior through domain events.
                    </li>
                    <li>
                        Both approaches are not mutually exclusive and can be combined depending on the complexity of the system and the clarity of the business logic.
                    </li>
                </ul>
                <h3 class="section-title">Example of microservices for bank application</h3>
                <img src="../../images/micro3.PNG" style="display: block; margin: auto; width: 70%;" class="img-fluid">
            </div>
        </div>

