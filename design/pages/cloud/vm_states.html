<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GCP VM Instance States</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="../common/styles.css" rel="stylesheet">
    <script>
        // Function to include an external HTML file
        function loadHTML(file, elementId) {
            fetch(file)
                .then(response => response.text())
                .then(data => document.getElementById(elementId).innerHTML = data)
                .catch(error => console.error('Error loading HTML:', error));
        }
    </script>
</head>

<body onload="loadHTML('../common/navbar.html', 'navbar-placeholder')">
    <!-- Navbar Placeholder -->
    <div id="navbar-placeholder"></div>

    <div class="container">

        <div class="content">
    <h1>GCP VM Instance States</h1>

    <p>In Google Cloud Platform (GCP), virtual machine (VM) instances can be in different states that control how they run, their availability, and cost implications. Understanding these states is crucial for managing instances and can be useful in certification exams like Google Associate Cloud Engineer or Professional Cloud Architect. Here's a breakdown of the different VM states:</p>

    <h3 class="section-title">1. Start</h3>
    <ul>
        <li>When you <strong>start</strong> a VM instance, it transitions from the stopped or suspended state to the <em>running</em> state.</li>
        <li>The VM becomes fully operational, and its operating system (OS) starts running.</li>
        <li>All resources allocated to the instance (such as CPU, memory) are made available again.</li>
        <li><strong>Billing:</strong> You will start incurring costs for CPU, memory, and persistent disk usage (though not for external IP unless explicitly used).</li>
        <li><strong>Common Certification Questions:</strong>
            <ul>
                <li><em>What happens to billing when you start a VM?</em> - Billing for resources resumes when the instance is in the running state.</li>
                <li><em>How do you start a VM instance?</em> - You can start a VM via the GCP Console, the gcloud command-line tool, or the API.</li>
            </ul>
        </li>
    </ul>

    <h3 class="section-title">2. Stop</h3>
    <ul>
        <li>When you <strong>stop</strong> a VM instance, it is completely powered off, but the resources (such as persistent disks) remain attached.</li>
        <li>The operating system shuts down gracefully.</li>
        <li><strong>Billing:</strong> Billing for CPU and memory usage stops. However, billing for persistent storage and external IP addresses (if they are static) continues.</li>
        <li><strong>Common Certification Questions:</strong>
            <ul>
                <li><em>What happens to attached persistent disks when you stop a VM?</em> - They remain attached and data is preserved, but you're still billed for the storage.</li>
                <li><em>Do you get billed for CPU when the VM is stopped?</em> - No, CPU and RAM billing stops in this state.</li>
                <li><em>When a VM is stopped what does it retain?</em> - Persistent disk and internal IP's</li>
            </ul>
        </li>
    </ul>

    <h3 class="section-title">3. Suspend</h3>
    <ul>
        <li><strong>Suspend</strong> puts a VM into a paused state, saving the current state to memory.</li>
        <li>This state is faster to recover from than a stopped state because all resources and memory are preserved.</li>
        <li><strong>Billing:</strong> You are billed for persistent storage and suspended memory (RAM), but not for the CPU.</li>
        <li><strong>Common Certification Questions:</strong>
            <ul>
                <li><em>What is the difference between stopping and suspending a VM?</em> - Suspending saves the VM's current state to RAM, whereas stopping fully shuts down the OS.</li>
                <li><em>Which state resumes faster, suspend or stop?</em> - Suspend resumes faster because the VM state is saved and not fully powered off.</li>
                <li><em>What does suspending a VM instance involve?</em> - Moving memory to storage</li>
                <li><em>Maximum duration for which an instance can be suspended?</em> - 60 days</li>
            </ul>
        </li>
    </ul>

    <h3 class="section-title">4. Reset</h3>
    <ul>
        <li><strong>Reset</strong> reboots the VM instance without changing its instance ID or losing its attached resources (disks, networks).</li>
        <li>It is similar to performing a hard reboot where the instance restarts immediately.</li>
        <li>Useful if the VM becomes unresponsive or needs to be restarted due to software errors.</li>
        <li><strong>Billing:</strong> Billing continues during a reset operation because the instance is still running.</li>
        <li><strong>Common Certification Questions:</strong>
            <ul>
                <li><em>What happens to the instance ID when a VM is reset?</em> - The instance ID remains the same.</li>
                <li><em>Does a reset affect disk attachments?</em> - No, persistent disks and other resources remain attached after a reset.</li>
                <li><em>What happens when you perform reset on VM instance?</em> - The VM reverted to its initial state without clean shutdown</li>
            </ul>
        </li>
    </ul>

    <h3 class="section-title">5. Delete</h3>
    <ul>
        <li><strong>Delete</strong> permanently removes the VM instance from your GCP project.</li>
        <li>All resources associated with the instance, including ephemeral (local) storage, are destroyed.</li>
        <li>Persistent disks can either be deleted or retained, depending on the configuration at deletion time.</li>
        <li><strong>Billing:</strong> Billing stops for all resources, except for any persistent disks that were retained and static IP addresses that were not released.</li>
        <li><strong>Common Certification Questions:</strong>
            <ul>
                <li><em>What happens to ephemeral storage when a VM is deleted?</em> - It is lost permanently.</li>
                <li><em>Can you retain a persistent disk after deleting a VM?</em> - Yes, if configured to do so during deletion.</li>
                <li><em>What happens to billing after deleting a VM?</em> - Billing stops for the VM, but you may still be charged for persistent storage and static IP addresses.</li>
            </ul>
        </li>
    </ul>

    <h3 class="section-title">Summary</h3>
    <p>These states—start, stop, suspend, reset, and delete—define how VM instances in GCP are managed and billed. Understanding these states and their implications is critical for both operational management and GCP certification exams. Make sure to familiarize yourself with the nuances of each state to better manage resources and costs in Google Cloud.</p>

<!-- Footer -->
<div class="footer">
    <p>&copy; 2024 | Kishor Bhosale | Revise, prepare, and excel in tech interviews.</p>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>
