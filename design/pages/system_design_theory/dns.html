<div class="container">

        <div class="content">
            <h3 class="section-title">Domain Name System (DNS)</h3>
            <h5>What is DNS?</h5>
            <ul>
                <li>A system that translates domain names into IP addresses.</li>
                <li>Makes it easier for humans to access websites without remembering numerical IP addresses.</li>
            </ul>
            <hr>
            <h5>Why DNS Required?</h5>
            <ul>
                <li>Computers communicate using IP addresses, but humans find it easier to remember names.</li>
                <li>DNS bridges this gap by converting names into machine-friendly IP addresses.</li>
            </ul>
            <hr>

            <h5>How does DNS works?</h5>
            <p>When you type a URL into a browser, the DNS finds the corresponding IP address and connects you to the website.</p>
            <img src="../../images/dns.PNG" alt="DNS" style="display: block; margin: auto;">
            <hr>

            <h5>Steps in DNS Resolution</h5>
            <ul>
                <li><b>User Request: </b>You enter a URL (e.g., www.google.com) in your browser.</li>
                <li><b>Browser Cache: </b>The browser first checks its cache to see if it already has the IP address for the domain.</li>
                <li><b>Operating System Cache: </b>If the browser cache doesn’t have the IP, the OS checks its local DNS cache.</li>
                <li><b>Query to Recursive Resolver: </b>If the IP isn’t found locally, the request is sent to a DNS Recursive Resolver (usually provided by your ISP or a public DNS like Google DNS or Cloudflare DNS).</li>
                <li><b>Recursive Resolver Checks Cache: </b>The resolver looks for the IP address in its own cache.</li>
                <li><b>Contact Root DNS Server: </b>If no match is found, the resolver queries a Root DNS Server. Root servers direct the query to the appropriate TLD (Top-Level Domain) Server.</li>
                <li><b>Contact TLD Server: </b>The TLD server (e.g., .com, .org) points the resolver to the Authoritative Name Server for the domain.</li>
                <li><b>Query Authoritative Name Server: </b>The resolver asks the Authoritative Name Server for the IP address of the domain.</li>
                <li><b>Return IP Address: </b>The IP address is returned to the resolver, which passes it back to the browser.</li>
                <li><b>Connection to Website: </b>The browser uses the IP address to connect to the website and display the content.</li>
            </ul>
            <img src="../../images/dns-2.PNG" alt="dns-hierarchy" style="display: block; margin: auto;">
            <hr>

            <h5>Types of DNS Servers:</h5>
            <ol>
                <li><b>Recursive Resolver:</b></li>
                <ul>
                    <li>Acts as a middleman between the user and other DNS servers.</li>
                    <li>Does the heavy lifting to find the IP address.</li>
                </ul>
                <li><b>Root DNS Server:</b></li>
                <ul>
                    <li>The starting point of DNS queries.</li>
                    <li>Redirects queries to the appropriate TLD server.</li>
                </ul>
                <li><b>TLD (Top-Level Domain) Server:</b></li>
                <ul>
                    <li>Responsible for domains with specific extensions like .com, .org, .net, etc.</li>
                </ul>
                <li><b>Authoritative Name Server:</b></li>
                <ul>
                    <li>Stores the actual IP address for a specific domain.</li>
                    <li>Provides the final answer to the query.</li>
                </ul>
            </ol>
            <hr>

            <h5>Types of DNS Records:</h5>
            <ul>
                <li>A Record: Maps a domain name to an IPv4 address.</li>
                <li>AAAA Record: Maps a domain name to an IPv6 address.</li>
                <li>CNAME Record: Alias for another domain (e.g., www.example.com → example.com).</li>
                <li>MX Record: Specifies mail servers for handling emails.</li>
                <li>TXT Record: Stores text information for verification purposes (e.g., SPF, DKIM).</li>
                <li>NS Record: Identifies the authoritative name servers for a domain.</li>
                <li>PTR Record: Maps an IP address back to a domain name (reverse DNS).</li>
            </ul>
             <hr>

            <h5>DNS Protocols:</h5>
            <ol>
                <li>UDP: Most DNS queries use UDP for speed. The message size is usually 512 bytes or less.</li>
                <li>TCP: Used for larger queries or zone transfers.</li>
                <li>DNS over HTTPS (DoH) and DNS over TLS (DoT): Encrypt DNS queries for improved privacy and security.</li>
            </ol>
            <hr>

            <h5>How to check DNS in Browser and Local OS</h5>
            <b>How to Check DNS Cache in Browsers?</b>
            <div>
                <p>Type the following in the address bar and press Enter:</p>
                <ul>
                    <li>Google Chrome: <pre>chrome://net-internals/#dns</pre></li>
                    <li>Microsoft Edge: <pre>edge://net-internals/#dns</pre></li>
                </ul>
            </div>
            <br>
            <b>How to Check Local DNS Cache?</b>
            <div>
                <p>Here are the commands for different operating systems to view or clear the DNS cache:</p>
                <ul>
                    <li>Windows: 
                        <pre>
                            ipconfig /displaydns
                            ipconfig /flushdns
                        </pre></li>
                    <li>Linux: systemd-resolved
                        <pre>
                            sudo systemd-resolve --statistics 
                            sudo systemd-resolve --flush-caches
                        </pre></li>
                    <li>Linux: nscd<pre>
                            sudo nscd -g
                            sudo service nscd restart
                        </pre></li>
                    
                </ul>
            </div>
            <hr>
            <h5>List of global DNS providers:</h5>
            <ul>
                <li>Amazon Route 53 (AWS)</li>
                <li>Google Cloud DNS</li>
                <li>Cloudflare DNS</li>
                <li>Microsoft Azure DNS</li>
                <li>Dyn (now part of Oracle)</li>
                <li>Verisign</li>
                <li>Akamai</li>
            </ul>
            <hr>

            
            
            <h3 class="section-title">Interview Questions and Answers</h3>
            <div class="interview-question">
                <strong>Q1: How does DNS caching work, and how can it impact the resolution process in both positive and negative ways?</strong>
            </div>
            <div class="interview-answer">
                <p>DNS caching involves storing DNS query results temporarily on various levels (browser, OS, ISP, etc.) to speed up subsequent requests for the same domain. 
                    Caching reduces latency, decreases the load on DNS servers, and improves the overall user experience.
                </p>
                <ul>
                    <li>Reduced Latency: Queries for cached domains resolve faster because they don’t need to go through the entire DNS lookup process.</li>
                    <li>Lower Server Load: Reduces the number of queries sent to authoritative DNS servers, decreasing their load.</li>
                    <li>Outdated Records: If the DNS records change before the cache expires (based on TTL), users might be directed to old, incorrect IP addresses.</li>
                    <li>Prolonged Downtime: In case of an IP change, users might still reach the old, possibly down, server until the cache expires.</li>
                </ul>
            </div>

            

            <div class="interview-question">
                <strong>Q2: How would you troubleshoot a situation where a user can access a website via IP address but not through its domain name?</strong>
            </div>
            <div class="interview-answer">
                <p>
                    <ul>
                        <li>Use tools like <b>nslookup, dig, whois</b> to verify if the domain’s DNS records are correctly configured and propagated.</li>
                        <li>Ensure that the <b>A record</b> for the domain points to the correct IP address.</li>
                        <li>The user’s system might be serving a stale DNS record. Clear the DNS cache (ipconfig /flushdns on Windows, sudo killall -HUP mDNSResponder on macOS).</li>
                        <li>Ensure the user's device is using the correct DNS server and that it’s operational. They can try switching to a public DNS server like Google’s (8.8.8.8).</li>
                        <li>Check if the domain might be blocked by a firewall or ISP DNS filtering.</li>
                    </ul>
                </p>    
            </div>

            <div class="interview-question">
                <strong>Q3: Explain how DNS load balancing works and describe a scenario where it might fail to distribute traffic evenly.</strong>
            </div>
            <div class="interview-answer">
                <p>
                    <ul>
                        <li>DNS load balancing distributes traffic across multiple servers by associating a single domain with multiple IP addresses (using multiple A records). 
                            The DNS server can return different IP addresses in response to DNS queries, distributing the load across the available servers.</li>
                        <li>If a DNS resolver or client caches an IP address for too long, subsequent traffic might not be distributed evenly. 
                                This can lead to one server being overloaded while others remain underutilized.</li>
                        <li>Sticky Sessions: Some clients may repeatedly connect to the same IP address due to cached results, leading to uneven load distribution.</li>
                    </ul>
                    </p>
            </div>


        </div>
</div>